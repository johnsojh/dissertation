% This chapter provides an analogue statement about the ideal J(S) and
% subsemigroups of $\beta S$. [6/20/2011/ John]

\chapter{$J(S)$ and Subsemigroups of $S$}
\section{Introduction}
In this chapter we prove that Theorem \ref{thm:smallest-subsemigrp} has an analogue statement in $J(S)$. 
The reason why this analogue is interesting is that there are many nice algebraic and combinatorial results that utilize the smallest ideal.%
\endnote{
  It can be argued that the smallest ideal in the Stone-\v{C}ech compactification is the best understood ideal.
}
It is then natural to wonder how much of this `niceness' can be imported into other ideals.

More precisely, in this chapter we shall prove an analogue to the following theorem.

\begin{thm}
  Let $(S, \cdot)$ be a semigroup, and let $T \subseteq S$ be a subsemigroup.
  The following statements are equivalent.
  \begin{itemize}
    \item[(a)] 
      $K(\beta T) = \beta T \cap K(\beta S)$.
    
    \item[(b)]
      $\beta T \cap K(\beta S)$ is nonempty.

    \item[(c)]
      $T$ is piecewise syndetic in $S$.
  \end{itemize}
\end{thm}
\begin{proof}
  It follows from Theorem \ref{thm:smallest-subsemigrp} that statement \textsl{(a)} is equivalent to statement \textsl{(b)}.
  From \cite[Theorem 4.40]{Hindman:1998fk}, we have that statement \textsl{(b)} is equivalent to statement \textsl{(c)}.
\end{proof}
\begin{rmk}
  We can, and do, identify the set $c \ell_{\beta S}(T)$ with $\beta T$. 
\end{rmk}

We shall see that the form of the analogue depends on whether the underlying semigroup $S$ is commutative or not. 
In particular, we shall prove the following two theorems.

\begin{thm}
  Let $(S, +)$ be a commutative semigroup, and let $T \subseteq S$ be a subsemigroup.
  The following statements are equivalent.
  \begin{itemize}
    \item[(a)]
      $J(T) = \beta T \cap J(S)$.

    \item[(b)]
      $\beta T \cap J(S)$ is nonempty.

    \item[(c)]
      $T$ is a $J$-set in $S$. 
  \end{itemize}
\end{thm}

\begin{thm}
  \label{thm:ideal}
  Let $(S, \cdot)$ be a semigroup, and let $T \subseteq S$ be a subsemigroup.
  The following statements are equivalent.
  \begin{itemize}
    \item[(a)]
      $J(T) \subseteq \beta T \cap J(S)$.

    \item[(b)]
      $\beta T \cap J(S)$ is nonempty.

    \item[(c)]
      $T$ is a $J$-set in $S$. 
  \end{itemize}
\end{thm}

In Section \ref{sec:example} we prove that statement (a) in Theorem \ref{thm:ideal} cannot be strengthen to $J(T) = \beta T \cap J(S)$. 
We are in a position to already prove parts of these theorems.

\begin{thm}
  Let $(S, \cdot)$ be a semigroup, and let $T \subseteq S$ be a subsemigroup.
  In the following statement (a) implies statement (b), and statements (b) and (c) are equivalent.
  \begin{itemize}
    \item[(a)]
      $J(T) \subseteq \beta T \cap J(S)$.

    \item[(b)]
      $\beta T \cap J(S)$ is nonempty.

    \item[(c)]
      $T$ is a $J$-set in $S$. 
  \end{itemize}
\end{thm}
\begin{proof}
  \textsl{(a) $\Rightarrow$ (b).}
  It follows from Lemma \ref{lem:pr-jsets} and \cite[Theorem 3.11]{Hindman:1998fk} that $J(T)$ is nonempty. 
  Therefore by assumption we have that $\beta T \cap J(S)$ is nonempty. 

  \textsl{(b) $\iff$ (c).}
  By Theorem \ref{thm:jsets-ideal} we have that $T$ is a $J$-set in $S$ if and only if $c \ell_{\beta S} (T) \cap J(S) \ne \emptyset$. 
  Identifying $c \ell_{\beta S}(T)$ with $\beta T$ completes the proof.
\end{proof}

With this theorem in hand in the next few sections we need only consider the case when statement (c) implies statement (a).

\section{Commutative Semigroup Case}
We first focus on the case when the underlying semigroup is commutative. 
In this case we obtain a stronger result because of Lemma \ref{lem:comm-jsets} simple characterization of a $J$-set in a commutative semigroup.
(Recall that Lemma \ref{lem:comm-jsets} states that a set $A$ is a $J$-set in a commutative semigroup if and only if for every $F \in \Pf(\calT)$ there exist $a \in S$ and $H \in \Pf(\bbN)$ such that $a + \sum_{t \in H} f(t) \in A$ for every $f \in F$.
Also recall that if $S$ is a semigroup, then $\calT(S)$ is the set of all sequences on $S$.)


The following lemma shows that, in a commutative semigroup, we may pick our `translate' $a$ in the $J$-set itself.
\begin{lem}
  \label{lem:comm-trans}
  Let $(S, +)$ be a commutative semigroup and $A \subseteq S$.
  Then $A$ is a $J$-set if and only if for every $F \in \Pf(\calT)$, there exist $a \in A$ and $H \in \Pf(\bbN)$ such that for all $f \in F$, $a + \sum_{t \in H} f(t) \in A$.
\end{lem}
\begin{proof}
  ($\Rightarrow$)
  Let $F \in \Pf(\calT)$ and let $\overline{c} \in \calT$ be some constant sequence.
  Put $G = (F + \{\overline{c}\}) \cup \{\overline{c}\}$. 
  Since $A$ is a $J$-set, by the necessity condition of Lemma \ref{lem:comm-jsets}, pick $b \in S$ and $H \in \Pf(\bbN)$ such that for all $g \in G$, $b + \sum_{t \in H} g(t) \in A$. 

  Put $a = b + \sum_{t \in H} \overline{c}(t)$, then for every $f \in F$, we have $a + \sum_{t \in H} f(t) = b + \sum_{t \in H}\bigl( \overline{c}(t) + f(t) \bigr) \in A$. 
  
  ($\Leftarrow$)
  By assumption, $A$ satisfies the sufficiency condition of Lemma \ref{lem:comm-jsets}, and hence $A$ is a $J$-set.
\end{proof}

Our next lemma show that a $J$-set contains `many' translates of sum of sequences. 
\begin{lem}
  \label{lem:comm-many}
  Let $(S, +)$ be a commutative semigroup and $A \subseteq S$.
  Then $A$ is a $J$-set if and only if for every $F \in \Pf(\calT)$ there exist a sequence $\la a_n \ra_{n=1}^\infty$ in $S$ and a sequence $\la H_n \ra_{n=1}^\infty$ in $\Pf(\bbN)$ with the following properties:
  \begin{itemize}
    \item[(1)]
      $\max H_n < \min H_{n+1}$ for every positive integer $n$.

    \item[(2)]
      For every positive integer $n$ and for all $f \in F$, $a_n + \sum_{t \in H_n} f(t) \in A$. 
  \end{itemize}
\end{lem}
\begin{proof}
  ($\Rightarrow$)
  Let $F \in \Pf(\calT)$.
  We shall recursively construct our sequences $\la a_n \ra_{n=1}^\infty$ and $\la H_n \ra_{n=1}^\infty$ such that the following hypotheses are satisfied for every positive integer $m$. 
  \begin{itemize}
    \item[(i)]
      $\max H_k < \min H_{k+1}$ for all $k \in \{1, 2, \ldots, m-1\}$.

    \item[(ii)]
      For every $k \in \{1, 2, \ldots, m\}$ and all $f \in F$, $a_k + \sum_{t \in H_k} f(t) \in A$.
  \end{itemize}

  Let $m$ be a positive integer.
  First assume that $m = 1$. 
  Since $A$ is a $J$-set by the necessity condition of Lemma \ref{lem:comm-jsets}, pick $a_1 \in S$ and $H_1 \in \Pf(\bbN)$ such that for all $f \in F$, $ a_1 + \sum_{t \in H_1} f(t)\in A$. 
  With these choices, hypothesis (i) is vacuously true, and hypothesis (ii) is true.

  Now let $m > 1$ and assume $\la a_n \ra_{n=1}^{m-1}$ and $\la H_n \ra_{n=1}^{m-1}$ have been chosen to satisfy hypotheses (i) and (ii).
  By the necessity condition of Lemma \ref{lem:comm-jsets} and by Lemma \ref{lem:jset-start} pick $a_m \in S$ and $H_m \in \Pf(\bbN)$ such that $\min H_m \ge L$ and for all $f \in F$, $a_m + \sum_{t \in H_m} f(t) \in A$. 
  Then hypothesis (i) is true since $\max H_{m-1} < L \le \min H_m$, and hypothesis (ii) is true by our choice of $a_m$ and $H_m$. 

  Hence the conclusion follows.

  ($\Leftarrow$)
  Since $A$ satisfies the sufficiency condition of Lemma \ref{lem:comm-jsets}, we have that $A$ is a $J$-set.
\end{proof}

Our final lemma in this section shows that $J$-sets in subsemigroups `lift' to be $J$-sets in the containing semigroup if the subsemigroup itself is a $J$-set in the containing semigroup.

\begin{lem}
  \label{lem:comm-lift}
  Let $(S, +)$ be a commutative semigroup, and let $T \subseteq S$ a subsemigroup which is also a $J$-set in $S$.
  If $A \subseteq T$ is a $J$-set in $T$, then $A$ is a $J$-set in $S$. 
\end{lem}
\begin{proof}
  Let $F \in \Pf\bigl( \calT(S) \bigr)$. 
  Since $T$ is a $J$-set in $S$, we may pick sequences $\la a_n \ra_{n=1}^\infty$ in $S$ and $\la H_n \ra_{n=1}^\infty$ in $\Pf(\bbN)$ as guaranteed by Lemma \ref{lem:comm-many}.

  For each $f \in F$ define $g_f \in \calT(T)$ by $g_f(n) = a_n + \sum_{t \in H_n} f(t)$. 
  Since $A$ is a $J$-set in $T$, by the necessity condition of Lemma \ref{lem:comm-jsets} we may pick $a \in T$ and $H \in \Pf(\bbN)$ such that $a + \sum_{t \in H} g_f(t) \in A$ for every $f \in F$. 
  Put $G = \bigcup_{t \in H} H_t$ and $b = a + \sum_{t \in H} a_t$. 
  Then for every $f \in F$, $b + \sum_{t \in G} f(t) \in A$. 
  Therefore by the sufficiency condition of Lemma \ref{lem:comm-jsets} $A$ is a $J$-set in $S$.
\end{proof}

\begin{thm}
  Let $(S,+)$ be a commutative semigroup, and let $T \subseteq S$ be a subsemigroup.
  If $T$ is a $J$-set in $S$, then $J(T) = \beta T \cap J(S)$.
\end{thm}
\begin{proof}
  Let $p \in J(T)$. 
  Then $T \in p$ since $T$ is a $J$-set in itself.
  If $A \in p$, then since $A$ is a $J$-set in $T$ and $T$ is a $J$-set in $S$ we have, by Lemma \ref{lem:comm-lift}, that $A$ is a $J$-set in $S$ too.
  Hence $p \in \beta T \cap J(S)$. 

  Now let $p \in \beta T \cap J(S)$ and $A \in p$. 
  Since $T \in p$ we have that $A \cap T \in p$.
  Therefore we may assume that $A \subseteq T$. 
  Let $F \in \Pf\bigl( \calT(T) \bigr)$, then $F \in \Pf\bigl( \calT(S) \bigr)$ also.
  Since $A$ is a $J$-set in $S$, by Lemma \ref{lem:comm-trans} we may pick $a \in A$ and $H \in \Pf(\bbN)$ such that for all $f \in F$, $a + \sum_{t \in H} f(t) \in A$.
  Since $a \in A \subseteq T$, it follows from the necessity condition of Lemma \ref{lem:comm-jsets} that $A$ is a $J$-set in $T$.
  Hence $p \in J(T)$.
\end{proof}

\section{General Semigroup Case}
To handle the general semigroup case we will prove versions of Lemma \ref{lem:comm-many} and \ref{lem:comm-lift} that use the usual definition of a $J$-set. 
Unfortunately, in the next section we shall see that Lemma \ref{lem:comm-trans} is not valid in every noncommutative semigroup. 

Recall that, given a semigroup $S$, for $n \in \bbN$, $a \in S^{m+1}$, $t \in \calJ_m$, and $f \in \calT$, we put $x(n, a, t, f) = \Bigl( \prod_{i=1}^n \bigl( a(i) f(t_i) \bigr) \Bigr) a(n+1)$. 

\begin{lem}
  \label{lem:many}
  Let $(S, \cdot)$ be a semigroup and let $A \subseteq S$.
  Then $A$ is a $J$-set in $S$ if and only if for every $F \in \Pf(\calT)$, there exist $\la m_k \ra_{k=1}^\infty$ a sequence of positive integers, $\la a_k \ra_{k=1}^\infty \in \bigtimes_{k=1}^\infty S^{m_k+1}$, and $\tau \in \bigtimes_{k=1}^\infty \calJ_{m_k}$ with $\tau(k)(m_k) < \tau(k+1)(1)$ for every positive integer $k$ such that for every positive integer $k$ and for all $f \in F$, $x(m_k, a_k, \tau(k), f) \in A$.
\end{lem}
\begin{proof}
  ($\Rightarrow$)
  Let $F \in \Pf(\calT)$.
  We shall recursively construct our sequences $\la a_k \ra_{k=1}^\infty$, $\la m_k \ra_{k=1}^\infty$, and $\tau$ such that the following hypotheses are satisfied for all positive integers $n$. 
  \begin{itemize}
    \item[(i)]
      $\tau(k)(m_k) < \tau(k+1)(1)$ for every $k \in \{1, 2, \ldots, n-1\}$.

    \item[(ii)]
      For every $k \in \{1, 2, \ldots, n\}$ and all $f \in F$, $x(m_k, a_k, \tau(k), f) \in A$.
  \end{itemize}
  
  Let $n$ be a positive integer.
  First suppose that $n = 1$. 
  Since $A$ is a $J$-set, pick $m_1 \in \bbN$, $a_1 \in S^{m_1+1}$, and $\tau(1) \in \calJ_{m_1}$ such that for all $f \in F$, $x(m_1, a_1, \tau(1), f) \in A$. 
  Hypothesis (i) is satisfied vacuously, and hypothesis (ii) is satisfied by our choices of $m_1$, $a_1$, and $\tau(1)$. 

  Now assume that $n > 1$ and that we have pick our sequences $\la m_k \ra_{k=1}^{n-1}$, $\la a_k \ra_{k=1}^{n-1}$, and $\tau \in \bigtimes_{i=1}^{n-1} \calJ_{m_k}$ to satisfy hypotheses (i) and (ii). 
  By Lemma \ref{lem:jset-start} pick $m_n \in \bbN$, $a_n \in S^{m_n+1}$, and $\tau(n) \in \calJ_{m_n}$ with $\tau(n)(1) > \tau(n-1)(m_{n-1})$ and $x(m_n, a_n, \tau(n), f) \in A$ for all $f \in F$. 
  Then by construction of $\tau(n)$ hypothesis (i) is satisfied, and by our choice of $m_n$, $a_n$, and $\tau(n)$, hypothesis (ii) is satisfied. 

  Hence the conclusion follows. 

  ($\Leftarrow$)
  $A$ satisfies the definition of a $J$-set.
\end{proof}

\begin{lem}
  \label{lem:lift}
  Let $(S, \cdot)$ be a semigroup, and let $T \subseteq S$ be a subsemigroup which is also a $J$-set in $S$.
  If $A \subseteq T$ is a $J$-set in $T$, then $A$ is a $J$-set in $S$.
\end{lem}
\begin{proof}
  Let $F \in \Pf\bigl( \calT(S) \bigr)$.
  Since $T$ is a $J$-set in $S$, we may pick sequences $\la m_k \ra_{k=1}^\infty$, $\la a_k \ra_{k=1}^\infty$, and $\tau$ as guaranteed by Lemma \ref{lem:many}.

  For each $f \in F$ define $g_f \in \calT(T)$ by $g_f(k) = x(m_k, a_k, \tau(k), f)$. 
  Since $A$ is a $J$-set in $T$, we may pick a positive integer $n$, $b \in T^{n+1}$, and $u \in \calJ_n$ such that for all $f \in F$, $x(n, b, u, g_f) \in A$.
  We claim that there exist $m \in \bbN$, $a \in S^{m+1}$, and $t \in \calJ_m$ such that for all $f \in F$, $x(m, a, t, f) \in A$.

  Put $m = \sum_{i=1}^n m_{u_i}$. 
  For each $s \in \{1, 2, \ldots, n\}$ put $h_s = \sum_{i=1}^s m_{u_i}$ and let $h_0 = 1$. 

  For each $s \in \{1, 2, \ldots, n\}$ put $h_s = \sum_{i=1}^s m_{u_i}$, put $h_0 = 0$, and put $m = h_n$ .
  We define $a \in S^{m+1}$ as follows:
  \[
    a(j) =
    \begin{cases}
      b(1)a_{u_1}(1) & \mbox{if $j=1$,} \\
      a_{u_s}(j-h_{s-1}) & \mbox{if $s \in \{1, 2, \ldots, n\}$ and $h_{s-1} + 1 < j \le h_s$,} \\
      a_{u_s}(m_{u_s}+1)b(s+1)a_{u_{s+1}}(1) & \mbox{if $s \in \{1, 2, \ldots, n-1\}$ and $j = h_s + 1$,} \\
      a_{u_n}(m_{u_n}+1)b(n+1) & \mbox{if $j = m+1$.}
    \end{cases}
  \]
  And, we define $t \in \calJ_m$ as follows:
  \[
    t_j = 
      \mbox{$\tau(u_s)(j- h_s)$ if $s \in \{1, 2, \ldots, s\}$ and $h_{s-1} < j \le h_s$.}
  \]
  Then for every $f \in F$, $x(m, a, t, f) \in A$.
\end{proof}

\begin{thm}
  \label{thm:comb-ideal}
  Let $(S, \cdot)$ be a semigroup, and let $T \subseteq S$ be a subsemigroup.
  If $T$ is a $J$-set in $S$, then $J(T) \subseteq \beta T \cap J(S)$.
\end{thm}
\begin{proof}
  Let $p \in J(T)$.
  Then $T \in p$ since $T$ is a $J$-set in itself.
  If $A \in p$, then since $A$ is a $J$-set in $T$ and $T$ is a $J$-set in $S$, we have, by Lemma \ref{lem:lift}, that $A$ is a $J$-set in $S$ too.
  Hence $p \in \beta T \cap J(S)$. 
\end{proof}

\section{A Free Semigroup Example}
\label{sec:example}

We now produce an example showing that the conclusion of Theorem \ref{thm:comb-ideal} cannot be improved to $J(T) = \beta T \cap J(S)$.
In this section we let $S$ be the free semigroup on two generators $a$ and $b$.

\begin{lem}
  \label{lem:seqs}
  Enumerate $\Pf(S)$ as $\la A_n \ra_{n=1}^\infty$.
  There exist two sequences $\la v_n \ra_{n=1}^\infty$ and $\la w_n \ra_{n=1}^\infty$ in $S$ satisfying the following three conditions.
  \begin{itemize}
    \item[(1)]
      $\{\, v_n : n \in \bbN \,\} \subseteq \{\, (ab)^t : t \in \bbN \,\}$ and $\{\, w_n : n \in \bbN \,\} \subseteq \{\, b^t : t \in \bbN \,\}$.

    \item[(2)]
      For each positive integer $n$, the length $v_n$ and $w_n$ is longer than every word in $A_n$.

    \item[(3)]
      For each positive integer $n > 1$, for every $k \in \{1, 2, \ldots, n-1\}$, and for all $x \in A_k$, the length of $v_n$ and $w_n$ is longer than the length of $v_kxw_k$.
  \end{itemize}
\end{lem}
\begin{proof}
  We shall construct the sequences $\la v_n \ra_{n=1}^\infty$ and $\la w_n \ra_{n=1}^\infty$ recursively. 
  Let $m$ be a positive integer and let $\ell(x)$ denote the length of word $x$.
  First assume that $m = 1$. 
  Pick $v_1 \in \{\, (ab)^t : t \in \bbN \,\}$ and $w_1 \in \{\, b^t : t \in \bbN \,\}$ such that for every $x \in A_1$, $\ell(v_1) > \ell(x)$ and $\ell(w_1) > \ell(x)$. 

  Now let $m > 1$ and assume that we have chosen sequences $\la v_n \ra_{n=1}^{m-1}$ and $\la w_n \ra_{n=1}^{m-1}$ such that the following hypotheses hold:
  \begin{itemize}
    \item[(i)]
      $\{v_1, v_2, \ldots, v_{m-1}\} \subseteq \{\, (ab)^t : t \in \bbN \,\}$ and $\{w_1, w_2, \ldots, w_{m-1}\} \subseteq \{\, b^t : t \in \bbN \,\}$.

    \item[(ii)]
      For every $k \in \{1, 2, \ldots, m-1\}$ and for all $x \in A_k$, $\ell(v_k) > \ell(x)$ and $\ell(w_k) > \ell(x)$. 

    \item[(iii)]
      For every $k \in \{1, 2, \ldots, m-2\}$ and all $x \in A_k$, $\ell(v_{m-1}) > \ell(v_kxw_k)$ and $\ell(w_{m-1}) > \ell(v_kxw_k)$.
  \end{itemize}
  Put $B = A_m \cup \{\, v_kxw_k : \mbox{$k \in \{1, 2, \ldots, m-1\}$ and $x \in A_k$} \,\}$.
  Pick $v_m \in \{\, (ab)^t : t \in \bbN \,\}$ and $w_m \in \{\, b^t : t \in \bbN \,\}$ such that $\ell(v_m) > \max\{\, \ell(u) : u \in B \,\}$ and $\ell(w_m) > \max\{\, \ell(u) : u \in B \,\}$. 
  Then our sequences $\la v_n \ra_{n=1}^{m}$ and $\la w_n \ra_{n=1}^{m}$ satisfy hypotheses (i)--(ii), where `$m-1$' is replaced by `$m$' throughout.
  Hence our conclusion follows.
\end{proof}

\begin{defn}
  Pick $\la v_n \ra_{n=1}^\infty$ and $\la v_n \ra_{n=1}^\infty$ as guaranteed by Lemma \ref{lem:seqs}.
  Put $A = \bigcup_{n=1}^\infty v_nA_nw_n$.
\end{defn}

\begin{lem}
  $A$ is a $J$-set in $S$. 
\end{lem}
\begin{proof}
  Let $F \in \Pf(\calT)$.
  Pick $t \in \bbN$ such that $\{\, f(t) : f \in F\,\} \in \Pf(S)$.
  Pick $n \in \bbN$ such that $A_n = \{\, f(t) : f \in F\,\}$. 
  Then for every $f \in F$, $v_nf(t)w_n \in A$. 
\end{proof}

Now that we have our $J$-set, we will use it to generate our required subsemigroup of $S$.

\begin{defn}
  Put 
  \[
    T = \bigr\{\, u_1u_2\cdots u_s : \mbox{$s \in \bbN$ and for every $i \in \{1, 2, \ldots, s\}$, $u_i \in A \cup\{a\}$} \,\bigr\}.
  \]
\end{defn}

\begin{lem}
  $T$ is a proper subsemigroup of $S$ which is also a $J$-set in $S$ and with $A \subseteq T$.
\end{lem}
\begin{proof}
  The fact that $T$ is a subsemigroup of $S$ with $A \subseteq T$ follows directly from the definition of $T$.
  Since $A \subseteq T$ and $A$ is a $J$-set in $S$, we have that $T$ is a $J$-set in $S$ too.
  To see that $T \subsetneq S$ it suffices to show that $b \not\in T$.
  Let $\ell(x)$, for $x \in S$, denote the length of the word $x$.
  Observe that $\ell(x) \ge 3$ for every $x \in A$ and so $b \not\in A$.
  It follows that if $x \in T$ with $\ell(x) = 1$, then $x = a$.
  Therefore $b \not\in T$. 
\end{proof}

\begin{thm}
  $A$ is a $J$-set in $S$ with the property that there exists $F \in \Pf\bigl( \calT(T) \bigr)$ such that for all $m \in \bbN$, for each $c \in S^{m+1}$, and for any $t \in \calJ_m$, there exists $f \in F$ such that if $c(1) \in T$, then $x(m, c, t, f) \not\in A$.
\end{thm}
\begin{proof}
  Put $F = \{\overline{a}\}$, and let $m \in \bbN$, $c \in S^{m+1}$, and $t \in \calJ_m$. 
  Then
  \begin{align*}
    x(m, c, t, \overline{a}) &= c(1)\overline{a}(t_1)c(2) \overline{a}(t_2)c(3) \cdots c(m) \overline{a}(t_m)c(m+1), \\
                  &= c(1)ac(2)ac(3) \cdots c(m)ac(m+1).
  \end{align*}
  
  Suppose $c(1) \in T$ and $x(m, c, t, \overline{a}) \in A$. 
  Since $c(1) \in T$ there exists a positive integer $s$ such that $c(1) = u_1u_2 \cdots u_s$ with $u_i \in A \cup \{a\}$ for all $i \in \{1, 2, \ldots, s\}$.
  Since $x(m, c, t, \overline{a}) \in A$, pick a positive integer $k$ such that $x(m, c, t, \overline{a}) \in v_kA_kw_k$.
  Pick $y \in A_k$ such that $x(m, c, t, \overline{a}) = v_kyw_k$.
  We shall consider two cases and three sub-cases. 
  
  \textbf{Case 1 ($u_1 = a$).}
  Observe that by condition (1) of Lemma \ref{lem:seqs} the word $v_kyw_k$ starts with the substring $ab$.

  If $s = 1$, then the word $x(m, c, t, \overline{a})$ starts with the substring $aa$, a contradiction.

  If $s > 1$, then regardless of whether $u_2 \in A$ or $u_2 = a$, the word $x(m, c, t, \overline{a})$ stills starts with the string $aa$, a contradiction.
  (By construction, that is, by condition (1) of Lemma \ref{lem:seqs} words in $A$ start with the letter $a$.)

  \textbf{Case 2 ($u_1 \in A$).}
  For this case, we consider three sub-cases. 
  Pick a positive integer $n$ such that $u_1 \in v_n A_n w_n$ and pick $x \in A_n$ such that $u_1 = v_n x w_n$. 
  Let $\ell(w)$ denote the length of a word $w$ in $S$.

  \textbf{Sub-case I ($k < n$).}
  Since $k < n$, by condition (3) of Lemma \ref{lem:seqs} $v_n$ is longer than $v_kxw_k$.
  Then $\ell\bigl( c(1) \bigr) \ge \ell(u_1) > \ell(v_kyw_k)$, but this is a contradiction since $c(1)$ is a substring of $v_kyw_k$.

  \textbf{Sub-case II ($k = n$).}
  We have that
  \begin{align*}
    x(m, c, t, \overline{a}) &= c(1)ac(2)ac(3) \cdots c(m)ac(m+1), \\
                             &= v_kxw_ku_2 \cdots u_sac(2)ac(3) \cdots c(m)ac(m+1).
  \end{align*}
  Therefore $yw_k = xw_ku_2 \cdots u_sac(2)ac(3) \cdots c(m)ac(m+1)$. 
  The substring $ac(m+1)$ starts with the letter $a$ and so it follows from condition (1) of Lemma \ref{lem:seqs} that $w_k$ is a substring of $c(m+1)$.
  Pick $v \in S \cup \{\emptyset\}$ such that $c(m+1) = vw_k$. 
  Therefore 
  \[
    y = xw_ku_2 \cdots u_sac(2)ac(3) \cdots c(m)av.
  \]
  Since $w_k$ is a proper substring of $y$ we have that $\ell(y) > \ell(w_k)$.
  However, by condition (2) of Lemma \ref{lem:seqs} we have that $\ell(w_k) > \ell(y)$, a contradiction. 

  \textbf{Sub-case III ($k > n$).}
  Put $t = \ell(v_nx)$.
  By condition (3) of Lemma \ref{lem:seqs}, $\ell(v_k) > t + \ell(w_n) \ge t+1$.
  In fact, by condition (2) of Lemma \ref{lem:seqs} we can sharpen this last inequality to $t + \ell(w_n) \ge t+2$.
  (Every word in $A_n$ has length at least one and by condition (2) of Lemma \ref{lem:seqs}, $w_n$ is longer than every word in $A_n$.)
  Therefore the letter in position $t+1$ and $t+2$ of $v_nxw_n$ is $b$. 

  By condition (1) of Lemma \ref{lem:seqs}, we have that $v_k$ has no two adjacent $b$'s. 
  By condition (3) of Lemma \ref{lem:seqs}, $\ell(v_k) > \ell(v_nxw_n)$. 
  Since $x(m, c, t, \overline{a}) = v_kyw_k = v_nxw_nu_2 \cdots u_sc(2) ac(3)\cdots c(m)ac(m+1)$, we arrive at a contradiction.

  Since we have exhausted all of our cases and sub-cases, the conclusion follows.
\end{proof}

It follows from this theorem that we have a $A$ $J$-set in $S$ contained $T$, a subsemigroup of $S$, that is also a $J$-set in $S$, such that $A$ is not a $J$-set in $T$.