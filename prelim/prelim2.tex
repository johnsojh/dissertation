\documentclass[12pt]{article}

\usepackage{amsthm, amssymb, amsmath}
\usepackage{color}
\usepackage{endnotes}
\usepackage{url}


\usepackage[margin=1in]{geometry}

\usepackage[doublespacing]{setspace}
\usepackage{url}

\newtheoremstyle{plain}{3mm}{3mm}{\slshape}{}{\bfseries}{.}{.5em}{}
\theoremstyle{plain}

% Numbered theorems 
\newtheorem{thm}{Theorem}[section]
\newtheorem{lem}[thm]{Lemma}
\newtheorem{prop}[thm]{Proposition}
\newtheorem{cor}[thm]{Corollary}
\newtheorem{up}[thm]{Ultrafilter Principle}
\newtheorem{radoSelect}[thm]{Rado's Selection Lemma}


% Unnumbered named theorems or results
\newtheorem*{fact}{Fact}
\newtheorem*{hj}{Hales-Jewett Theorem}
\newtheorem*{php}{Pigeonhole Principle}
\newtheorem*{ramsey}{Ramsey's Theorem}
\newtheorem*{vdw}{Van der Waerden's Theorem}
\newtheorem*{schur}{Schur's Theorem}

\newtheorem{FST}[thm]{Hindman's Theorem}
\newtheorem{MBR}[thm]{Multiple Birkhoff Recurrence Theorem}
\newtheorem{recur}[thm]{Recurrence Theorem}
\newtheorem{OCST}[thm]{Furstenburg's Original Central Sets Theorem}
\newtheorem{cst}[thm]{Central Sets Theorem}



\newtheorem{claim}[thm]{Claim}
\newtheorem{ques}[thm]{Question}
\newtheorem{conj}[thm]{Conjecture}


\theoremstyle{definition}

% Numbered "definition" style theorem environments
\newtheorem{defn}[thm]{Definition}
\newtheorem{rmk}[thm]{Remark}
\newtheorem{example}[thm]{Example}

\newcommand{\la}{\langle}
\newcommand{\ra}{\rangle}
\newcommand{\bbN}{\mathbb{N}}
\newcommand{\bbZ}{\mathbb{Z}}
\newcommand{\bbR}{\mathbb{R}}
\newcommand{\AP}{\mathcal{AP}}
\newcommand{\AL}{\mathcal{AL}}

% Short names for calligraphic math letters.
\newcommand{\calA}{\mathcal{A}}
\newcommand{\calB}{\mathcal{B}}
\newcommand{\calC}{\mathcal{C}}
\newcommand{\calE}{\mathcal{E}}
\newcommand{\calF}{\mathcal{F}}
\newcommand{\calG}{\mathcal{G}}
\newcommand{\calH}{\mathcal{H}}
\newcommand{\calI}{\mathcal{I}}
\newcommand{\calJ}{\mathcal{J}}
\newcommand{\calP}{\mathcal{P}}
\newcommand{\calR}{\mathcal{R}}
\newcommand{\calS}{\mathcal{S}}
\newcommand{\calT}{\mathcal{T}}
\newcommand{\calU}{\mathcal{U}}

\newcommand{\Pf}{\mathcal{P}_f}

\newcommand{\setfunc}[2]{\hbox{${}^{\hbox{$#1$}}\hskip -1 pt #2$}}

\font\bigmath=cmsy10 scaled \magstep 3
\newcommand{\bigtimes}{\hbox{\bigmath \char'2}}

\newcommand{\cchi}{\raise 2 pt \hbox{$\chi$}}

\begin{document}
\section{Ultrafilters and Partition Regularity}
Cardinality is commonly thought of as a ``measure'' on the size of sets.
Intuitively this ``notion of largeness'' provides a good mathematical formalization of size since every set has a unique cardinal number; and under ZFC (the usual Zermelo-Fraenkel axioms of set theory along with the axiom of choice) there is a fixed nontrivial order relation such that every set of cardinals is wellordered.
However the concept of cardinality has its own mathematical peculiarities as a notion of largeness.
One peculiarity is starkly illustrated by the formal independence of the Continuum Hypothesis from ZFC (provided ZFC is a consistent theory).
Recall that the Continuum Hypothesis is the assertion that $|\bbR|$ is the first cardinal after $|\bbN|$.
The independence of this statement means that, without adding extra set-theoretical axioms, we cannot determine the precise location of the cardinal $|\bbR|$ in the class of all cardinals.

Of course by using the well-known diagonal argument of Cantor%
\endnote{
  Interestingly Grattan-Guinness's observation in \cite[page 134, footnote 1]{Grattan-Guinness:1978kx} implies that Paul de Bois-Reymond was the first to publish a diagonal-type argument. 
}
we can easily prove the weaker assertion that $|\bbR|$ is strictly greater than $|\bbN|$.
The point we wish to emphasize is that questions about relative sizes are often easier to study than questions about absolute sizes.
Unfortunately, another peculiarity of cardinality is that the concept is a somewhat blunt tool to use in the study of relative sizes.
Therefore in this section we introduce two different (but ultimately related) notions of largeness that are more amendable to answering certain interesting questions on relative sizes.

\subsection{Filters, Filter Bases, Filter Subbases, and Ultrafilters}
Since the material in this section is mostly standard and can be found in several places we choose to leave most of the proofs of our assertions to the reader.
% Add some references to the results we state.
\begin{defn}
  \label{defn:filters}
  Let $X$ be a nonempty set.
  \begin{itemize}
    \item[(a)] We call $\calF \subseteq \calP(X)$ a \textsl{filter on $X$} if and only if $\calF$ satisfies the following three conditions:
    \begin{itemize}
      \item[(1)] $\emptyset \ne \calF$ and $\emptyset \not\in\calF$.
      \item[(2)] If $A$ and $B$ are elements of $\calF$, then $A
        \cap B \in \calF$.
      \item[(3)] If $A \in \calF$ and $A \subseteq B \subseteq X$,
        then $B \in \calF$.
    \end{itemize}

    \item[(b)] We call $\calB \subseteq \calP(X)$ a \textsl{filter base on $X$} if and only if $\calB$ satisfies the following two conditions:
    \begin{itemize}
      \item[(1)] $\emptyset \ne \calB$ and $\emptyset \not\in \calB$.
        
      \item[(2)] If $A$ and $B$ are elements of $\calB$, then there exists $C \in \calB$ such that $C \subseteq A \cap B$.
    \end{itemize}

    \item[(c)] We call $\calS \subseteq \calP(X)$ a \textsl{filter subbase on $X$} (or $\calS$ has the \textsl{finite intersection property} (abbreviated f.i.p.)) if and only if for every nonempty finite subset $\calA \subseteq \calS$ we have $\bigcap \calA \ne \emptyset$.
  \end{itemize}
\end{defn}
\begin{rmk}
  Intuitively we may think of elements of a filter as simply a collection of relatively large subsets.
  Conditions (1) and (3) of a filter nicely align with this intuition, but condition (2) may at first look a litte strange.
  This condition may be thought of as saying that we require our large sets to interlock in a highly nontrivial way.%
  \endnote{
    Filters, filter bases, and ultrafilters were introduced in two  notes of Cartan, \cite{Cartan:1937vn} and \cite{Cartan:1937ys}, as one way to generalize the use of arguments based on sequences in metric spaces to topological spaces. 
    However, see Sundstr\"{o}m's paper \cite[Section 4.2]{Sundstrom:2010zr} for some history and references to others that discovered the concepts of filters and ultrafilters independently. 
  }
\end{rmk}

\begin{example}
  \label{ex:prinFilt}
  Let $X$ be a nonempty set.
  If $\emptyset \ne A \subseteq X$, then the set $\{\, B \subseteq X : A \subseteq B \,\}$ is a filter on $X$.
  We call such filters \textsl{principal filters}.
\end{example}

Using condition (2) in Definition \ref{defn:filters}(a), a simple argument shows that every filter on a nonempty finite set is necessarily a principal filter.
In this dissertation we wil adopt the bias that principal filters are essentially trivial or well-known objects.
Our next example shows that there is at least one nonprincipal filter on every infinite set.

\begin{example}
  Let $X$ be an infinite set, then $\{\, A \subseteq X : \mbox{$X \setminus A$ is finite} \,\}$ is a nonprincipal filter on $X$.
  We call this filter the \textsl{cofinite filter} or \textsl{Fr\'{e}chet filter}.
\end{example}
% TODO: Enter in more examples of nonprincipal filters.

Filter bases and subbases can be used to naturally generate a filter.
% TODO: Say a bit more to motivate the idea of a filter base and filter subbase. 
% Perhaps draw the analogy with a topological base and subbase?

\begin{prop}
  \label{prop:fltBase}
  Let $\calB$ be a filter base on $X$, then the set
  \[
    \{\, A \subseteq X : \mbox{$B \subseteq A$ for some $B \in \calB$} \,\}
  \]
  is a filter on $X$.
  We call this filter the \textsl{filter generated by the base $\calB$}.
\end{prop}

\begin{prop}
  Let $\calS$ be a filter subbase on $X$, then the set
  \[
     \calB = \bigl\{\, \bigcap \calA : \mbox{$\emptyset \ne \calA \subseteq \calS$ is finite} \,\bigr\}
  \]
  is a filter base on $X$. 
\end{prop}
\begin{cor}
  \label{cor:fltSubbase}
  Let $\calS$ be a filter subbase on $X$, then the set
  \[
    \{\, A \subseteq X : \mbox{$\bigcap\calA \subseteq A$ for some finite $\emptyset \ne \calA \subseteq \calS$} \,\}
  \]
  is a filter on $X$.
  We call this filter the \textsl{filter generated by the subbase $\calS$}.
\end{cor}

% TODO: Insert a brief sentence (or two) about the natural partial order on the set of all filters.

\begin{defn}
  Let $\calF_1$ and $\calF_2$ be filters on $X$.
  We say that $\calF_1$ is \textsl{coarser than} $\calF_1$ or $\calF_2$ is \textsl{finer than} $\calF_1$ if and only if $\calF_1 \subseteq \calF_2$.
\end{defn}

The relation $\subseteq$ is a partially ordering on the collection of all filters on a set.
With this partial order we can assert that the filters produced in Proposition \ref{prop:fltBase} and Corollary \ref{cor:fltSubbase} are the coarsest filters that contain our base and subbase.
(In fact, these filters are the intersections of all the filters that contain our base or subbase, respectively.)

Since the set of all filters on a set $X$ is partially ordered, it is natural to wonder about minimal and maximal elements.
There is only one minimal filter, the smallest filter $\{X\}$, which is contained in every filter. 
There is no largest filter, but the situation for the existence of maximal elements is mathematically interesting (or mathematically worrying depending on your point-of-view).
To befit this added complication we give maximal filters a special name.

\begin{defn}
  A filter $\calU$ on $X$ is called an \textsl{ultrafilter on $X$} if and only if $\calU$ is a \mbox{$\subseteq$-maximal} filter.
\end{defn}

\begin{thm}
  \label{thm:equivUf}
  Let $\calU$ be a filter on $X$.
  The following statements are equivalent.
  \begin{itemize}
    \item[(a)] $\calU$ is an ultrafilter on $X$.
    \item[(b)] For every $A \subseteq X$, either $A \in \calU$ or $X \setminus A \in \calU$.
    \item[(c)] For every $A$, $B \subseteq X$, if $A \cup B \in \calU$, then either $A \in \calU$ or $B \in \calU$.
  \end{itemize}
\end{thm}
\begin{proof}
  (a) $\Rightarrow$ (b)
  Suppose that $A \not\in \calU$.
  If $\calU \cup \{A\}$ is a filter subbase, then by Corollary
  \ref{cor:fltSubbase} we can generate a filter that contains $\calU$
  and $A$.
  However since $\calU$ is maximal, this would imply that $A \in
  \calU$, a contradiction.
  Therefore $\calU \cup \{A\}$ is not a filter subbase and so there
  must exists $B \in \calU$ such that $B \cap A = \emptyset$, that is,
  $B \subseteq X \setminus A$.
  It follows that $X \setminus A \in \calU$.
  
  (b) $\Rightarrow$ (c)
  If $A \not\in \calU$ and $B \not\in \calU$, then by assumption $X
  \setminus A \in \calU$ and $X \setminus B \in \calU$.
  Then $X \setminus (A \cup B) = (X \setminus A) \cap (X \setminus B)$
  would be an element of $\calU$.
  However this implies that $\emptyset = \bigl(X \setminus (A \cup
  B)\bigr) \cap (A \cup B) \in \calU$, a contradiction.

  (c) $\Rightarrow$ (a)
  Let $\calF$ be a filter on $X$ with $\calU \subseteq \calF$.
  Let $A \in \calF$.
  Since $\calU \subseteq \calF$, it follows that $X \setminus A
  \not\in \calU$.
  However, $A \cup (X \setminus A) = X \in \calU$ and by assumption it
  follows that $A \in \calU$.
  Therefore $\calU = \calF$ and hence $\calU$ is a maximal filter.
\end{proof}
\begin{rmk}
  A more complete list of statements equivalent to the definition of an ultrafilter can be found in \cite[Theorem 3.6]{Hindman:1998fk}.
\end{rmk}

\begin{example}
  Let $X$ be a nonempty set and $a \in X$.
  Put $\calE(a) = \{\, A \subseteq X : a \in A \,\}$.
  Then $\calE(a)$ is an ultrafilter on $X$.
  The fact that $\calE(a)$ is a filter was first mentioned in Example  \ref{ex:prinFilt}, and the fact that $\calE(a)$ is an ultrafilter
  follows easily from Theorem \ref{thm:equivUf}(b).
  We call such ultrafilters \textsl{principal ultrafilters}.
\end{example}

We will also adopt the bias that principal ultrafilters are essentially trivial or well understood objects.
In contrast to the situation with nonprincipal filters the existence of nonprincipal ultrafilters is sensitive to the underlying axioms of our particular set theory.
(In particular to guarantee the existence of nonprincipal ultrafilters we need a weak form of the axiom of choice.)
It is a fact that there are models of ZF where no nonprincipal ultrafilters exists \cite{Blass:1977fk}.
The stronger statement that every filter can be extended to an ultrafilter follows from Zorn's Lemma and our next result.%
\endnote{
  More precisely the Ultrafilter Principle is stronger than the statement that every infinite set has a nonprincipal ultrafilter. 
  Rav's paper \cite[Section 2]{Rav:1977ys} contains several interesting collection of statements equivalent to the Ultrafilter Principle which are essentially combinatorial in character. 
All of these statements are variants of Rado's Selection Lemma. 
% TODO: Put in that Rado's Selection Lemma is known to be weaker than the
% Ultrafilter Principle.  Also mention that Rado's Selection Lemma is a 
% weak form of choice that generalizes the diagonal type argument of Cantor.
}

\begin{lem}
  \label{lem:chainFlt}
  Let $\Phi$ be a collection of filters on a set $X$.
  \begin{itemize}
    \item[(a)] $\bigcap\Phi$ is a filter on $X$.

    \item[(b)] If $\Phi$ is a \mbox{$\subseteq$-chain}, then $\bigcup\Phi$ is a filter on $X$.
  \end{itemize}
\end{lem}

\begin{up}
  Every filter is contained in an ultrafilter.
\end{up}
\begin{proof}[Proof Sketch]
  Let $X$ be a set and $\calF$ a filter on $X$.
  Let $\Phi$ be the collection of all filters on $X$ that are finer than $\calF$.
  By Lemma \ref{lem:chainFlt} and Zorn's Lemma, $\Phi$ contains a maximal element.
\end{proof}
\begin{rmk}
  To produce a nonprincipal ultrafilters we simply apply the Ultrafilter Principle to the cofinite filter.
  It is a fact that every ultrafilter is nonprincipal if and only if it contains the cofinite filter.
\end{rmk}

In order to produce a filter it is necessary and sufficient to produce a collection with f.i.p.
However as a practical matter, it may be inconvenient or difficult to verify that a collection of sets has f.i.p.
Therefore in the next subsection we give some of the basic definitions and results around a concept ``dual'' to the notion of filters that will essentially make producing filters trivial.

\subsection{Grills, Grill Bases, and Grill Subbases}





% Endnotes 
\theendnotes

% Things referenced in the preliminaries chapter. Eventually this will
% placed in a separate file so the References appear at the end.
\bibliographystyle{amsplain}
\bibliography{../references}

\end{document}